//==============================================
//songﾃﾞｰﾀとonpuﾃﾞｰﾀの標準化のための設定
//==============================================
#define	bgn_mac	.align  2		//ｺｰﾄﾞの先頭を4ﾊﾞｲﾄ境界にする
#define	end_mac				//end_macを殺す
#define	asb_mac				//asb_macを殺す
#define	ase_mac				//asb_macを殺す
#define	NULL	0			//NULLは0番地を指す


//==============================================
//曲ｲﾝﾃﾞｯｸｽ生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:SONG_HDRのﾗﾍﾞﾙ
//==============================================
#define	son_mac(sss)	.word	sss+0x8000	//SONG_HDRへのﾎﾟｲﾝﾀ

//==============================================
//音価ﾌﾟﾘｽｹｰﾙ値生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾃﾝﾎﾟ値[4分音符/分]
//　音価ﾌﾟﾘｽｹｰﾙ値とは音価の基本単位にしている4分音符の1/48の時間を
//　　演奏処理周期(PWM_PR*SONG_PS)をﾍﾞｰｽに作るためのﾌﾟﾘｽｹｰﾙ値
//　　=60*1000000us/ﾃﾝﾎﾟ/48/(PWM_PR*SONG_PS)
//==============================================
#define	ops_mac(ttt)	.word	(100000000/(ttt)/PWM_PR/SONG_PS/8+5)/10

//==============================================
//移調設定値生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:移調設定値=共通音高ﾃｰﾌﾞﾙを基準とした移調度[半音階](-15〜15)
//==============================================
#define	kys_mac(kkk)	.byte	kkk

//==============================================
//ﾊﾟｰﾄ数生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾊﾟｰﾄ数(1〜4)
//==============================================
#define	pns_mac(nnn)	.byte	nnn

//==============================================
//ｴﾝﾍﾞﾛｰﾌﾟ処理ﾀｲﾐﾝｸﾞﾌﾟﾘｽｹｰﾙ値生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ｴﾝﾍﾞﾛｰﾌﾟ処理周期[us]
//　ｴﾝﾍﾞﾛｰﾌﾟ処理周期を演奏処理周期に対するﾌﾟﾘｽｹｰﾙ値に変換する
//　このﾌﾟﾘｽｹｰﾙに更に音符ﾃﾞｰﾀ中のenv_macで指定するﾌﾟﾘｽｹｰﾙを被せて
//　実際のｴﾝﾍﾞﾛｰﾌﾟ処理ﾀｲﾐﾝｸﾞになる
//==============================================
#define	eps_mac(eee)	.word	(10*(eee)/PWM_PR/SONG_PS+5)/10

//==============================================
//ﾋﾟｯﾁﾍﾞﾝﾄﾞ処理ﾀｲﾐﾝｸﾞﾌﾟﾘｽｹｰﾙ値生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾋﾟｯﾁﾍﾞﾝﾄﾞ処理周期[us]
//　ﾋﾟｯﾁﾍﾞﾝﾄﾞ処理周期を演奏処理周期に対するﾌﾟﾘｽｹｰﾙ値に変換する
//　このﾌﾟﾘｽｹｰﾙに更に音符ﾃﾞｰﾀ中のpit_macで指定するﾌﾟﾘｽｹｰﾙを被せて
//　実際のﾋﾟｯﾁﾍﾞﾝﾄﾞ処理ﾀｲﾐﾝｸﾞになる
//==============================================
#define	pps_mac(ppp)	.word	(10*(ppp)/PWM_PR/SONG_PS+5)/10

//==============================================
//ﾎﾟｲﾝﾀﾃｰﾌﾞﾙ生成ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾃｰﾌﾞﾙの先頭ﾗﾍﾞﾙ
//==============================================
#define	ptr_mac(ppp)	.word	ppp+0x8000	//ﾃｰﾌﾞﾙへのﾎﾟｲﾝﾀ

//==============================================
//音価記号の定義
//==============================================
#define	kR32	1	//32分3連符
#define	kR16	2	//16分3連符
#define	kK32	3	//32分音符
#define	kR8	4	//8分3連符
#define	kP32	5	//付点32分音符
#define	kK16	6	//16分音符
#define	kR4	7	//4分3連符
#define	kP16	8	//付点16分音符
#define	kK8	9	//8分音符
#define	kR2	10	//2分3連符
#define	kP8	11	//付点8分音符
#define	kK4	12	//4分音符
#define	kR1	13	//全3連符
#define	kP4	14	//付点4分音符
#define	kK2	15	//2分音符
#define	kP2	16	//付点2分音符
#define	kK1	17	//全音符
#define	kW80	18	//80
#define	kW84	19	//84
#define	kW168	20	//168
#define	kW255	21	//255


//==============================================
//音高記号の定義
//==============================================
#define	DoF	-1
#define	Do	0
#define	DoS	1
#define	ReF	1
#define	Re	2
#define	ReS	3
#define	MiF	3
#define	Mi	4
#define	MiS	5
#define	FaF	4
#define	Fa	5
#define	FaS	6
#define	SoF	6
#define	So	7
#define	SoS	8
#define	LaF	8
#define	La	9
#define	LaS	10
#define	SiF	10
#define	Si	11
#define	SiS	12


//==============================================
//音符終了
//==============================================
#define	onp_end		.word	0x0000

//==============================================
//KB演奏移行設定ﾏｸﾛ
//==============================================
#define	onp_kbx		.word	0x0010

//==============================================
//転調設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:転調度[半音階]
//ｶﾚﾝﾄの調からの転調度を指定する(-15〜+15)
//0のときはSONGﾃﾞｰﾀ中の移調設定値に戻す
//==============================================
#define	kec_mac(kkk)	.word	0x0020+((kkk)&0x1f)

//==============================================
//ﾘﾋﾟｰﾄ1の回数設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾘﾋﾟｰﾄ回数(2〜16)
//==============================================
#define	rp1_mac(rrr)	.word	0x0040+(((rrr)-1)&0x0f)

//==============================================
//ﾘﾋﾟｰﾄ2の回数設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾘﾋﾟｰﾄ回数(2〜16)
//==============================================
#define	rp2_mac(rrr)	.word	0x0050+(((rrr)-1)&0x0f)

//==============================================
//ﾘﾋﾟｰﾄ3の回数設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾘﾋﾟｰﾄ回数(2〜16)
//==============================================
#define	rp3_mac(rrr)	.word	0x0060+(((rrr)-1)&0x0f)

//==============================================
//ﾘﾋﾟｰﾄ4の回数設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾘﾋﾟｰﾄ回数(2〜16)
//==============================================
#define	rp4_mac(rrr)	.word	0x0070+(((rrr)-1)&0x0f)

//==============================================
//通常音符設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:
//　ttt:ﾀｲ･ｽﾗｰ(0=無し､1=有り)
//　kkk:音価ｺｰﾄﾞ(1起算)
//　ooo:ｵｸﾀｰﾌﾞ番号(0起算)
//　nnn:音名ｺｰﾄﾞ(0起算)
//==============================================
#define	onp_mac(ttt,kkk,ooo,nnn)	.word	(kkk&0x1f)*256+((ttt)&0x01)*128+((ooo*12+nnn)&0x7f)

//==============================================
//ﾘﾋﾟｰﾄ1の分岐ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:分岐先の音符ﾃﾞｰﾀﾃｰﾌﾞﾙのﾜｰﾄﾞｵﾌｾｯﾄ値
//　ﾘﾋﾟｰﾄ回数をﾃﾞｸﾘして0でなければ分岐する､0になったら次の音符ﾃﾞｰﾀへ進む
//==============================================
#define	jp1_mac(jjj)	.word	0x2000+(((jjj)/2)&0x3ff)

//==============================================
//ﾘﾋﾟｰﾄ2の分岐ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:分岐先の音符ﾃﾞｰﾀﾃｰﾌﾞﾙのﾜｰﾄﾞｵﾌｾｯﾄ値
//　ﾘﾋﾟｰﾄ回数をﾃﾞｸﾘして0でなければ分岐する､0になったら次の音符ﾃﾞｰﾀへ進む
//==============================================
#define	jp2_mac(jjj)	.word	0x2400+(((jjj)/2)&0x3ff)

//==============================================
//ﾘﾋﾟｰﾄ3の分岐ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:分岐先の音符ﾃﾞｰﾀﾃｰﾌﾞﾙのﾜｰﾄﾞｵﾌｾｯﾄ値
//　ﾘﾋﾟｰﾄ回数をﾃﾞｸﾘして0でなければ分岐する､0になったら次の音符ﾃﾞｰﾀへ進む
//==============================================
#define	jp3_mac(jjj)	.word	0x2800+(((jjj)/2)&0x3ff)

//==============================================
//ﾘﾋﾟｰﾄ4の分岐ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:分岐先の音符ﾃﾞｰﾀﾃｰﾌﾞﾙのﾜｰﾄﾞｵﾌｾｯﾄ値
//　ﾘﾋﾟｰﾄ回数をﾃﾞｸﾘして0でなければ分岐する､0になったら次の音符ﾃﾞｰﾀへ進む
//==============================================
#define	jp4_mac(jjj)	.word	0x2c00+(((jjj)/2)&0x3ff)

//==============================================
//無条件分岐ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:分岐先の音符ﾃﾞｰﾀﾃｰﾌﾞﾙのﾜｰﾄﾞｵﾌｾｯﾄ値
//　無条件に分岐する
//==============================================
#define	jmp_mac(jjj)	.word	0x3000+(((jjj)/2)&0x3ff)

//==============================================
//ﾍﾞﾛｼﾃｨ設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾍﾞﾛｼﾃｨ値(全ﾊﾟｰﾄの合計が255以下になること､0は最小､255は最大)
//==============================================
#define	vel_mac(vvv)	.word	0x3400+((ORGEL_VOL*vvv/100)&0xff)

//==============================================
//ｴﾝﾍﾞﾛｰﾌﾟﾀｲﾑ設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ｴﾝﾍﾞﾛｰﾌﾟﾀｲﾑのﾌﾟﾘｽｹｰﾙ値
//==============================================
#define	env_mac(eee)	.word	0x3500+((eee)&0xff)

//==============================================
//ﾃﾝﾎﾟ設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾃﾝﾎﾟ変化率[%](51〜200の範囲であること)
//==============================================
#define	tmp_mac(ttt)	.word	0x3600+((12750/(ttt))&0xff)

//==============================================
//ﾋﾟｯﾁﾍﾞﾝﾄﾞﾀｲﾑ設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾋﾟｯﾁﾍﾞﾝﾄﾞﾀｲﾑ
//==============================================
#define	pit_mac(ppp)	.word	0x3500+((ppp)&0xff)

//==============================================
//音源波形ﾃﾞｰﾀ切換え設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:音源波形ﾃﾞｰﾀｱﾄﾞﾚｽ
//==============================================
#define	onw_mac(aaa)	.word	0x3800
#define	ona_mac(aaa)	.word	aaa+0x8000

//==============================================
//ｴﾝﾍﾞﾛｰﾌﾟ波形ﾃﾞｰﾀ切換え設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ｴﾝﾍﾞﾛｰﾌﾟ波形ﾃﾞｰﾀｱﾄﾞﾚｽ
//==============================================
#define	enw_mac(aaa)	.word	0x3900
#define	ena_mac(aaa)	.word	aaa+0x8000

//==============================================
//ﾋﾟｯﾁﾍﾞﾝﾄﾞ波形ﾃﾞｰﾀ切換え設定ﾏｸﾛ
//　ﾊﾟﾗﾒｰﾀ:ﾋﾟｯﾁﾍﾞﾝﾄﾞ波形ﾃﾞｰﾀｱﾄﾞﾚｽ
//==============================================
#define	piw_mac(aaa)	.word	0x3a00
#define	pia_mac(aaa)	.word	aaa+0x8000
